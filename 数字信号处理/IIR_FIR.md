# 数字滤波器

### 一，FIR 有限冲激响应

**特征**：输出 只取决于 输入

<mark>注意</mark>：在实时系统中，不可能获得下一时刻的输入

所以只能通过之前的输入来计算输出，这会造成输出相位偏移，需要向后延时

但这又需要之前的输入是奇偶对称的，来满足线性相位（线性相位下，才会表现出时域均匀的延时，这样就好恢复；不然每一个频域点在时域上延迟不一样，即时域弥散），没有线性相位就用 IIR

+ **FIR 滤波器的设计**

  1. 找一个理想滤波器（因果 and 线性相位）$Hd(e^{jw})$
  
  2. 做 Z反变换/离散傅里叶反变换 $hd(n)$（无限长）
  
  3. 然后加窗，由阻带衰减确定，过渡带宽确定 N（滤波器长度和阶次） 的长度
  
     最终滤波器：$h(n)=hd(n)*w(n)$  
  
  4. $h(n)$ 通过DTFT 获得 $H(e^{jw})$
  
  5. 来检查是否满足要求，可以调整 N 和窗函数

### 二，IIR 无限冲激响应

**特征**：输出 还取决于之前的 输出，某点对后续的影响一直都在

+ **IIR 滤波器的设计**

  做一个 Z反变换 $H(s)$-->$H(z)$，获得

  转移函数：$H(z)=\frac{Y(z)}{X(z)}$$=\frac{8-4z^{-1}+11z^{-2}-2z^{-3}}{1-\frac{5}{4}z^{-1}+\frac{3}{4}z^{-2}-\frac{1}{8}z^{-3}}$

  差分方程：

  $y(n)=8x(n)-4x(n-1)+11x(n-2)-2x(n-3)+\frac{5}{4}y(n-1)-\frac{3}{4}y(n-2)+\frac{1}{8}y(n-3)$

  最后添加到
  
  网络图：

==实质==：是要设计一个 $H(z)$ 出来

+ **$H(z)$ 的设计** 

  + 最典型的是设计一个模拟滤波器，然后转化为数字型

    + 好抄答案：巴特沃斯，切比雪夫

    + 转为数字型的方法：1）冲激不变法：把信号传化为多个冲激，高频不精确	2）阶跃不变发	3）双线性变换法

    + 还有就是直接设计数字滤波器


### 两者区别

1. FIR 可以做到线性相位（不受前面的影响）
2. FIR 更加稳定
3. 相同阶数（变量数量），IIR 幅频特性更好（更陡峭，接近理想滤波器，FIR要达到相同效果需要更多变量，运算量增大）

---

### 相关概念

因果：

非因果：

频率响应

线性相位：恒定延时，均匀延时 

### 参考

[理解两种数字滤波器](https://www.bilibili.com/video/BV1Gb4y1b78C/?spm_id_from=333.337.search-card.all.click&vd_source=441cc1a302800e0f2a991b10d6ee8072)

[FIR数字滤波器设计-bilibili](https://www.bilibili.com/video/BV1t14y1J77E/?spm_id_from=333.337.search-card.all.click&vd_source=441cc1a302800e0f2a991b10d6ee8072)